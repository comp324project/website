<!DOCTYPE html>
<html>
<head>
    <title>Sign Up</title>
    <!-- Correct way to link to an external stylesheet -->
    <link rel="stylesheet" href="../css/login-style.css">
</head>
    <body>
        <script src="../js/main.js"></script>
        <nav></nav>
        <main>
            <section id="signup_box">
                <div id="signup_box_text">
                    <h3>Tailor your resume today!</h3>
                    <p>Sign up and level the playing field</p>
                </div>
                <div id="signup_box_input">
                    <input type="text" id="email" placeholder="Email" required>
                    <input type="text" id="username" placeholder="Username" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <input type="password" id="confirm_password" placeholder="Re-Enter Password" required>
                    <div id="error-message"></div>
                    <div id="login_box_button">
                        <button id="login_button" >SIGNUP</button>
                    </div>
                </div>
                <div id="login-link">
                    <p>Already have an account? </p>
                    <a href="index.html">Login</a>
                </div>
                <div id="recovery-link">
                    <p>Forgot your username/password? Reset it now!</p>
                    <a href="recover-account.html">Recover account</a>
                </div>
            </section>
        </main>
        <script>
            const password = document.getElementById("password");
            const confirmPassword = document.getElementById("confirm_password");
            const loginButton = document.getElementById("login_button");
            const errorMessage = document.getElementById("error-message");

            function validatePassword() {
                if (password.value.trim() !== "" && password.value === confirmPassword.value) {
                    loginButton.disabled = false;
                    loginButton.classList.add("enabled");
                    errorMessage.textContent = "";
                } else {
                    loginButton.disabled = true;
                    //loginButton.classList.remove("enabled");
                    errorMessage.textContent = "Passwords do not match!";
                }
            }

            password.addEventListener("input", validatePassword);
            confirmPassword.addEventListener("input", validatePassword);

            loginButton.addEventListener("click", function () {
                //if (!loginButton.disabled) {
                    window.location.href = "master-resume.html"; 
                //}
            });
        </script>
    </body>
</html>
